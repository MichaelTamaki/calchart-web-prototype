(function(t){function e(e){for(var o,i,c=e[0],a=e[1],u=e[2],d=0,f=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,c=1;c<n.length;c++){var a=n[c];0!==r[a]&&(o=!1)}o&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},r={app:0},s=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=a;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"39a0":function(t,e,n){},"48b0":function(t,e,n){"use strict";var o=n("7689"),r=n.n(o);r.a},4955:function(t,e,n){"use strict";var o=n("39a0"),r=n.n(o);r.a},"4ec2":function(t,e,n){"use strict";var o=n("bd1a"),r=n.n(o);r.a},"5c0b":function(t,e,n){"use strict";var o=n("e332"),r=n.n(o);r.a},"64d3":function(t,e,n){"use strict";var o=n("cc54"),r=n.n(o);r.a},7689:function(t,e,n){},bd1a:function(t,e,n){},cc54:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h2",[t._v(t._s(t.showTitle))]),n("ControlMenu"),n("h2",[t._v("Grapher")]),n("p",[t._v("Click a dot to select it.")]),n("div",{staticClass:"grapher-container",style:{fontSize:t.zoomLevel+"%"}},[n("Grapher")],1),n("div",{staticClass:"bottom-menu-container"},[n("BottomMenu")],1)],1)},s=[],i=n("d225"),c=n("b0b4"),a=n("308d"),u=n("6bb5"),l=n("4e2b"),d=n("9ab4"),f=n("60a3"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"control-menu"}},[n("SSEditor"),n("h2",[t._v("Control Menu")]),n("div",[n("label",{attrs:{for:"zoom-level"}},[t._v("Zoom Level")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.zoomLevel,expression:"zoomLevel",modifiers:{number:!0}}],attrs:{id:"zoom-level",type:"number"},domProps:{value:t.zoomLevel},on:{input:function(e){e.target.composing||(t.zoomLevel=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("div",[n("label",{attrs:{for:"beat-selector"}},[t._v("Beat:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.selectedBeat,expression:"selectedBeat",modifiers:{number:!0}}],attrs:{id:"beat-selector",type:"number"},domProps:{value:t.selectedBeat},on:{input:function(e){e.target.composing||(t.selectedBeat=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("span",[t._v("of "+t._s(t.selectedSSBeats))])])],1)},v=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Stuntsheet Editor")]),n("table",[t._m(0),n("tbody",[t._l(t.stuntSheets,(function(e,o){return n("tr",{key:o,class:{selected:o===t.selectedSSIndex}},[n("td",[t._v(t._s(o))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.beats,expression:"stuntsheet.beats",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.beats},on:{input:function(n){n.target.composing||t.$set(e,"beats",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("td",[n("button",{on:{click:function(e){return t.selectSS(o)}}},[t._v("Select")])]),n("td",[n("button",{on:{click:function(e){return t.removeSS(o)}}},[t._v("Remove")])])])})),n("tr",[n("td",{attrs:{colspan:"2"}},[n("label",{attrs:{for:"new-ss-beats"}},[t._v("New Beats:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.beats,expression:"beats",modifiers:{number:!0}}],attrs:{id:"new-ss-beats",type:"number"},domProps:{value:t.beats},on:{input:function(e){e.target.composing||(t.beats=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("td",{attrs:{colspan:"2"}},[n("button",{on:{click:t.addSS}},[t._v("Add Stuntsheet")])])])],2)])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Index")]),n("th",[t._v("Beats")]),n("th",[t._v("Select")]),n("th",[t._v("Remove")])])])}],m=(n("57e7"),function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.beats=32,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"selectSS",value:function(t){this.$store.commit("setSelectedSS",t)}},{key:"removeSS",value:function(t){alert("Not implemented")}},{key:"addSS",value:function(){this.$store.state.show.addNewStuntsheet(this.beats)}},{key:"stuntSheets",get:function(){return this.$store.state.show.stuntSheets}},{key:"selectedSSIndex",get:function(){return this.$store.state.show.stuntSheets.indexOf(this.$store.state.selectedSS)}}]),e}(f["c"]));m=Object(d["a"])([f["a"]],m);var y=m,S=y,_=(n("f4a7"),n("2877")),g=Object(_["a"])(S,p,b,!1,null,"10e600d6",null),O=g.exports,w=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"zoomLevel",get:function(){return this.$store.state.zoomLevel},set:function(t){this.$store.commit("setZoomLevel",t)}},{key:"selectedBeat",get:function(){return this.$store.state.selectedBeat},set:function(t){this.$store.commit("setSelectedBeat",t)}},{key:"selectedSSBeats",get:function(){return this.$store.state.selectedSS.beats}}]),e}(f["c"]);w=Object(d["a"])([Object(f["a"])({components:{SSEditor:O}})],w);var j=w,k=j,$=Object(_["a"])(k,h,v,!1,null,"b3c00744",null),T=$.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"grapher"}},t._l(t.dots,(function(t,e){return n("GrapherDot",{key:e,attrs:{dot:t}})})),1)},D=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"dot-wrapper",class:{selected:t.isSelected},style:{top:t.coord[1]+"em",left:t.coord[0]+"em"},on:{click:t.selectDot}},[n("span",{staticClass:"dot-label"},[t._v(t._s(t.key))]),n("span",{staticClass:"dot-circle"})])},N=[],B=(n("6762"),n("2fdb"),function(){function t(e,n){if(Object(i["a"])(this,t),this.dotType=0,this.nextDot=null,void 0===e)this.coord=void 0!==n?n:[0,0],this.flow=[this.coord];else{var o=e.flow;this.coord=o[o.length-1].slice(),this.flow=[this.coord],e.nextDot=this}}return Object(c["a"])(t,[{key:"flowIsValid",value:function(){return(this.flow[0][0]===this.coord[0]||this.flow[0][1]===this.coord[1])&&(null===this.nextDot?1===this.flow.length:this.flow[this.flow.length-1][0]===this.nextDot.coord[0]&&this.flow[this.flow.length-1][1]===this.nextDot.coord[1])}}]),t}()),M=B,C=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.key=-1,t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"selectDot",value:function(){this.$store.commit("setSelectedDots",[this.dot])}},{key:"coord",get:function(){var t=this.$store.state.selectedBeat;return this.dot.flow.length>=t?this.dot.flow[t]:this.dot.flow[this.dot.flow.length-1]}},{key:"isSelected",get:function(){return this.$store.state.selectedDots.includes(this.dot)}}]),e}(f["c"]);Object(d["a"])([Object(f["b"])(M)],C.prototype,"dot",void 0),C=Object(d["a"])([f["a"]],C);var L=C,P=L,z=(n("64d3"),Object(_["a"])(P,E,N,!1,null,"6f9a09c8",null)),H=z.exports,F=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"dots",get:function(){var t=this.$store.state.selectedSS;return t.dots}}]),e}(f["c"]);F=Object(d["a"])([Object(f["a"])({components:{GrapherDot:H}})],F);var W=F,U=W,G=(n("48b0"),Object(_["a"])(U,x,D,!1,null,"104de7e1",null)),A=G.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bottom-menu"}},[n("DotEditor"),n("DotTypeEditor")],1)},I=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("h2",[t._v("Dot Editor")]),n("p",[t._v("Click a row to select a dot.")]),n("table",[t._m(0),n("tbody",t._l(t.dots,(function(e,o){return n("tr",{key:o,class:{selected:t.isSelected(e)},on:{click:function(n){return t.setSelectedDots([e])}}},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.coord[0],expression:"dot.coord[0]",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.coord[0]},on:{input:function(n){n.target.composing||t.$set(e.coord,0,t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.coord[1],expression:"dot.coord[1]",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.coord[1]},on:{input:function(n){n.target.composing||t.$set(e.coord,1,t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.dotType,expression:"dot.dotType",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.dotType},on:{input:function(n){n.target.composing||t.$set(e,"dotType",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("td",[t._v(t._s(e.flow))]),n("td",[t._v(t._s(e.flowIsValid()))])])})),0)])])])},J=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("X / Y")]),n("th",[t._v("Dot Type")]),n("th",[t._v("Flow")]),n("th",[t._v("Flow is valid")])])])}],V=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"isSelected",value:function(t){return this.$store.state.selectedDots.includes(t)}},{key:"setSelectedDots",value:function(t){this.$store.commit("setSelectedDots",t)}},{key:"dots",get:function(){var t=this.$store.state.selectedSS;return t.dots}}]),e}(f["c"]);V=Object(d["a"])([f["a"]],V);var X,Y,q=V,K=q,Q=(n("4ec2"),Object(_["a"])(K,Z,J,!1,null,"f6e2bc30",null)),tt=Q.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Dot Type Editor")]),n("p",[t._v('After configuring continuities, click "Generate Flows."')]),n("button",{on:{click:t.addDotType}},[t._v("Add Dot Type")]),t._l(t.dotTypes,(function(e,o){return n("div",{key:o},[n("h3",[t._v("Dot Type: "+t._s(o))]),n("table",[t._m(0,!0),n("tbody",[t._l(e,(function(e,r){return n("tr",{key:r},[n("td",[t._v(t._s(e.toString()))]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.marchType,expression:"continuity.marchType"}],on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"marchType",n.target.multiple?o:o[0])}}},t._l(t.marchTypes,(function(e,o){return n("option",{key:o},[t._v("\n                "+t._s(e)+"\n              ")])})),0)]),n("td",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.direction,expression:"continuity.direction"}],on:{change:function(n){var o=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"direction",n.target.multiple?o:o[0])}}},t._l(t.directions,(function(e,o){return n("option",{key:o},[t._v("\n                "+t._s(e)+"\n              ")])})),0)]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.beats,expression:"continuity.beats",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.beats},on:{input:function(n){n.target.composing||t.$set(e,"beats",t._n(n.target.value))},blur:function(e){return t.$forceUpdate()}}})]),n("td",[n("button",{on:{click:function(e){return t.removeContinuity(o,r)}}},[t._v("\n              Remove\n            ")])])])})),n("tr",[n("td",{attrs:{colspan:"4"}},[n("button",{on:{click:function(e){return t.addContinuity(o)}}},[t._v("Add Continuity")])])])],2)]),n("button",{on:{click:function(e){return t.generateFlow(o)}}},[t._v("Generate Flows")]),n("button",{on:{click:function(e){return t.removeDotType(o)}}},[t._v("Remove Dot Type")])])}))],2)},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Human Readable")]),n("th",[t._v("March Type")]),n("th",[t._v("Direction")]),n("th",[t._v("Beats")]),n("th",[t._v("Remove")])])])}];n("d25f"),n("6b54"),n("87b3");(function(t){t["MTHS"]="MTHS",t["FMHS"]="FMHS"})(X||(X={})),function(t){t["EWNS"]="EW/NS",t["NSEW"]="NS/EW",t["E"]="E",t["W"]="W",t["N"]="N",t["S"]="S"}(Y||(Y={}));var ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.MTHS,n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;Object(i["a"])(this,t),this.marchType=e,this.direction=void 0===n?this.marchType===X.MTHS?Y.E:Y.EWNS:n,this.beats=void 0===o?null:o}return Object(c["a"])(t,[{key:"toString",value:function(){var t=X[this.marchType];return null!==this.beats&&0!==this.beats&&(t+=" "+this.beats.toString()),t+=" "+this.direction,null!==this.beats&&0!==this.beats||this.marchType!==X.MTHS||(t="["+t+"]"),t}}]),t}(),rt=(n("ac6a"),n("f3e2"),function(t,e){var n=t[t.length-1][0],o=t[t.length-1][1],r=e[1],s=o<r?1:-1;while(o!==r)o+=s,t.push([n,o])}),st=function(t,e){var n=t[t.length-1][0],o=t[t.length-1][1],r=e[0],s=n<r?1:-1;while(n!==r)n+=s,t.push([n,o])},it=function(t,e,n){var o=t.stuntSheets[e];t.stuntSheets[e+1];n.forEach((function(t){if(null!==t.nextDot){var e=t.nextDot,n=o.dotTypes[t.dotType],r=[t.coord];n.forEach((function(t,n){if(r[r.length-1]!==e.coord)if(t.marchType===X.MTHS){if(null===t.beats)return;for(var o=0===n?1:0;o<t.beats;o++)r.push(r[r.length-1])}else t.marchType===X.FMHS&&(t.direction===Y.EWNS?(rt(r,e.coord),st(r,e.coord)):t.direction===Y.NSEW&&(st(r,e.coord),rt(r,e.coord)))})),t.flow=r}}))},ct=it,at=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"addContinuity",value:function(t){this.$store.state.selectedSS.dotTypes[t].push(new ot(void 0,void 0,void 0))}},{key:"removeContinuity",value:function(t,e){this.$store.state.selectedSS.dotTypes[t].splice(e,1)}},{key:"generateFlow",value:function(t){var e=this.$store.state.show.stuntSheets.indexOf(this.$store.state.selectedSS),n=this.$store.state.selectedSS.dots.filter((function(e){return t===e.dotType}));ct(this.$store.state.show,e,n)}},{key:"addDotType",value:function(){this.$store.state.selectedSS.dotTypes.push([new ot(void 0,void 0,void 0)])}},{key:"removeDotType",value:function(t){this.$store.state.selectedSS.dotTypes.splice(t,1)}},{key:"dotTypes",get:function(){return this.$store.state.selectedSS.dotTypes}},{key:"marchTypes",get:function(){return X}},{key:"directions",get:function(){return Y}}]),e}(f["c"]);at=Object(d["a"])([f["a"]],at);var ut=at,lt=ut,dt=(n("4955"),Object(_["a"])(lt,et,nt,!1,null,"388eef02",null)),ft=dt.exports,ht=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(f["c"]);ht=Object(d["a"])([Object(f["a"])({components:{DotEditor:tt,DotTypeEditor:ft}})],ht);var vt=ht,pt=vt,bt=Object(_["a"])(pt,R,I,!1,null,"29faa80a",null),mt=bt.exports,yt=function(t){function e(){return Object(i["a"])(this,e),Object(a["a"])(this,Object(u["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"showTitle",get:function(){return this.$store.state.show.title}},{key:"zoomLevel",get:function(){return this.$store.state.zoomLevel}}]),e}(f["c"]);yt=Object(d["a"])([Object(f["a"])({components:{ControlMenu:T,Grapher:A,BottomMenu:mt}})],yt);var St=yt,_t=St,gt=(n("5c0b"),Object(_["a"])(_t,r,s,!1,null,null,null)),Ot=gt.exports,wt=n("2f62"),jt=function t(e,n,o){if(Object(i["a"])(this,t),this.beats=void 0!==e?e:32,this.dotTypes=[[new ot(void 0,void 0,void 0)]],this.dots=[],void 0!==n){var r=0,s=0;while(this.dots.push(new M(void 0,[r,s]))<n)r+=2}else if(void 0!==o){var c=[];o.dots.forEach((function(t){c.push(new M(t,void 0))})),this.dots=c}},kt=jt,$t=function(){function t(e,n,o){Object(i["a"])(this,t),this.title=e,this.stuntSheets=[new kt(void 0,n,void 0)],this.dotLabels=o}return Object(c["a"])(t,[{key:"addNewStuntsheet",value:function(t){this.stuntSheets.push(new kt(t,void 0,this.stuntSheets[this.stuntSheets.length-1]))}},{key:"unsetNextDots",value:function(t){this.stuntSheets[t].dots.forEach((function(t){t.nextDot=null,t.flow=[t.coord]}))}},{key:"attachToNextSS",value:function(t){var e=[];this.stuntSheets[t].dots.forEach((function(t){e.push(new M(t,void 0))})),this.stuntSheets[t+1].dots=e}}]),t}(),Tt=function(t){var e=1,n=[];while(n.push((e++).toString())<t);return n},xt=[Tt(400)];o["a"].use(wt["a"]);var Dt=new $t("Example Show",10,xt[0]),Et=new wt["a"].Store({state:{selectedDots:[Dt.stuntSheets[0].dots[0]],selectedSS:Dt.stuntSheets[0],selectedDotType:0,selectedBeat:0,show:Dt,zoomLevel:100},mutations:{setSelectedDots:function(t,e){t.selectedDots=e},setSelectedSS:function(t,e){t.selectedSS=t.show.stuntSheets[e],t.selectedDots=[t.selectedSS.dots[0]],t.selectedDotType=0,t.selectedBeat=0},setZoomLevel:function(t,e){t.zoomLevel=e},setSelectedBeat:function(t,e){t.selectedBeat=e}},actions:{}});o["a"].config.productionTip=!1,new o["a"]({store:Et,render:function(t){return t(Ot)}}).$mount("#app")},d563:function(t,e,n){},e332:function(t,e,n){},f4a7:function(t,e,n){"use strict";var o=n("d563"),r=n.n(o);r.a}});
//# sourceMappingURL=app.8d218e68.js.map